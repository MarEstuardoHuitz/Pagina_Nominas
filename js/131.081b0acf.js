"use strict";(globalThis["webpackChunkquasar_project"]=globalThis["webpackChunkquasar_project"]||[]).push([[131],{6131:(e,l,o)=>{o.r(l),o.d(l,{default:()=>W});var a=o(9835);const n={class:"row"},i={class:"col-xs-3 col-md-2"},t={class:"col-xs-9 col-md-5"},c={class:"col-xs-9 col-md-5"},d={class:"col-xs-9 col-md-5"},u={style:{height:"500px"}};function r(e,l,o,r,s,p){const m=(0,a.up)("q-input"),h=(0,a.up)("q-btn"),f=(0,a.up)("q-form"),g=(0,a.up)("q-icon"),v=(0,a.up)("q-table"),b=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(b,{padding:""},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{onSubmit:e.onSubmit,class:"q-gutter-md",onReset:e.clear},{default:(0,a.w5)((()=>[(0,a._)("div",n,[(0,a._)("div",i,[(0,a.Wm)(m,{rounded:"",outlined:"",modelValue:e.codigo,"onUpdate:modelValue":l[0]||(l[0]=l=>e.codigo=l),type:"number",label:"Código",disable:""},null,8,["modelValue"])]),(0,a._)("div",t,[(0,a.Wm)(m,{rounded:"",outlined:"",modelValue:e.descripcion,"onUpdate:modelValue":l[1]||(l[1]=l=>e.descripcion=l),type:"text",label:"Descripcion",counter:""},null,8,["modelValue"])]),(0,a._)("div",c,[(0,a.Wm)(m,{rounded:"",outlined:"",modelValue:e.precio,"onUpdate:modelValue":l[2]||(l[2]=l=>e.precio=l),type:"text",label:"Precio",counter:""},null,8,["modelValue"])]),(0,a._)("div",d,[(0,a.Wm)(m,{rounded:"",outlined:"",modelValue:e.fecha,"onUpdate:modelValue":l[3]||(l[3]=l=>e.fecha=l),type:"text",label:"Fecha Creacion",counter:"",disable:""},null,8,["modelValue"])])]),(0,a._)("div",null,[(0,a.Wm)(h,{label:null===e.codigo?"Guardar":"Actualizar",type:"submit",color:"primary"},null,8,["label"]),(0,a.Wm)(h,{label:"Limpiar",type:"reset",color:"primary",flat:"",class:"q-ml-sm"})])])),_:1},8,["onSubmit","onReset"]),(0,a._)("div",u,[(0,a.Wm)(v,{class:"full-height",title:"Usuarios",rows:e.usuarios,columns:e.columns,filter:e.filter,pagination:{rowsPerPage:0},onRowClick:e.selectUsuario},{"top-right":(0,a.w5)((()=>[(0,a.Wm)(m,{for:"pos-buscar-detalles",borderless:"",dense:"",modelValue:e.filter,"onUpdate:modelValue":l[4]||(l[4]=l=>e.filter=l),placeholder:"Buscar Productos",clearable:""},{append:(0,a.w5)((()=>[(0,a.Wm)(g,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["rows","columns","filter","onRowClick"])])])),_:1})}var s=o(9302),p=o(4136),m=o(8651),h=o(499),f=function(e,l,o,a){function n(e){return e instanceof o?e:new o((function(l){l(e)}))}return new(o||(o=Promise))((function(o,i){function t(e){try{d(a.next(e))}catch(l){i(l)}}function c(e){try{d(a["throw"](e))}catch(l){i(l)}}function d(e){e.done?o(e.value):n(e.value).then(t,c)}d((a=a.apply(e,l||[])).next())}))};const g=[{name:"Codigo",label:"Código",field:"id_producto",align:"center"},{name:"Descripcion",label:"Descripcion",field:"descripcion",align:"center"},{name:"Precio",label:"Precio",field:"precio",align:"center"},{name:"Fecha Creacion",label:"Fecha Creacion",field:"fecha",align:"center"}],v=(0,a.aZ)({name:"UsuariosPage",setup(){const e=(0,s.Z)(),l=(0,h.iH)(null),o=(0,h.iH)(null),a=(0,h.iH)(null),n=(0,h.iH)(null),i=(0,h.iH)(""),t=(0,h.iH)([]),c=()=>f(this,void 0,void 0,(function*(){e.loading.show({delay:400}),yield p.api.get(p.endPoints.PRODUCTOS).then((e=>{t.value=e.data})).catch((e=>{(0,m.L1)(e,{mensaje:e.response.data.mensaje})})).finally((()=>{e.loading.hide()}))})),d=()=>{let n={id:l.value,descripcion:o.value,precio:a.value};null===l.value?(e.loading.show(),p.api.post(p.endPoints.PRODUCTOS,n).then((e=>f(this,void 0,void 0,(function*(){(0,m.dF)("Producto guardado"),r(),yield c()})))).catch((e=>{(0,m.L1)(e,{mensaje:e.response.data.mensaje})})).finally((()=>{e.loading.hide()}))):(e.loading.show(),p.api.put(p.endPoints.PRODUCTOS,n).then((e=>f(this,void 0,void 0,(function*(){(0,m.dF)("Producto guardado"),r(),yield c()})))).catch((e=>{(0,m.L1)(e,{mensaje:e.response.data.mensaje})})).finally((()=>{e.loading.hide()})))},u=(e,i,t)=>{l.value=i.id_producto,o.value=i.descripcion,a.value=i.precio,n.value=i.fecha},r=()=>{l.value=null,o.value="",a.value=""};return{getProductos:c,onSubmit:d,selectUsuario:u,clear:r,usuarios:t,columns:g,codigo:l,descripcion:o,precio:a,filter:i,fecha:n}},created(){this.getProductos()}});var b=o(1639),w=o(9885),y=o(8326),P=o(3119),V=o(8879),_=o(7580),C=o(2857),U=o(9984),q=o.n(U);const x=(0,b.Z)(v,[["render",r]]),W=x;q()(v,"components",{QPage:w.Z,QForm:y.Z,QInput:P.Z,QBtn:V.Z,QTable:_.Z,QIcon:C.Z})}}]);